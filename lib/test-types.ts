// –¢–∏–ø—ã –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

export type TestId = "procrastination" | "depression" | "anxiety" | "stress" | "self-esteem";

export interface Test {
  id: TestId;
  name: string;
  description: string;
  icon: string;
  color: string;
  questions: Question[];
  scoring: ScoringRule[];
}

export interface Question {
  id: number;
  text: string;
  type: "scale" | "multiple-choice";
  options?: string[]; // –î–ª—è multiple-choice
  min?: number; // –î–ª—è scale
  max?: number; // –î–ª—è scale
  labels?: { min: string; max: string }; // –î–ª—è scale
}

export interface ScoringRule {
  min: number;
  max: number;
  level: "low" | "medium" | "high" | "critical";
  label: string;
  description: string;
}

export interface TestResult {
  date: string; // ISO date string
  score: number;
  level: "low" | "medium" | "high" | "critical";
  answers: Record<number, number | string>; // questionId -> answer
  interpretation?: string;
}

export interface ClientTestData {
  [testId: string]: TestResult[]; // testId -> array of results
}

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

export const TESTS: Record<TestId, Test> = {
  procrastination: {
    id: "procrastination",
    name: "–¢–µ—Å—Ç –Ω–∞ –ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏—é",
    description: "–û—Ü–µ–Ω–∏—Ç–µ —Å–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏–∏ –∏ —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç—å –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å –¥–µ–ª–∞ –Ω–∞ –ø–æ—Ç–æ–º",
    icon: "‚è∞",
    color: "orange",
    questions: [
      {
        id: 1,
        text: "–Ø —á–∞—Å—Ç–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—é –≤–∞–∂–Ω—ã–µ –¥–µ–ª–∞ –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–æ–º–µ–Ω—Ç",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 2,
        text: "–ú–Ω–µ —Ç—Ä—É–¥–Ω–æ –Ω–∞—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á, –¥–∞–∂–µ –µ—Å–ª–∏ —è –∑–Ω–∞—é, —á—Ç–æ –æ–Ω–∏ –≤–∞–∂–Ω—ã",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 3,
        text: "–Ø —á–∞—Å—Ç–æ –æ—Ç–≤–ª–µ–∫–∞—é—Å—å –Ω–∞ –º–µ–Ω–µ–µ –≤–∞–∂–Ω—ã–µ –¥–µ–ª–∞ –≤–º–µ—Å—Ç–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 4,
        text: "–Ø –∏—Å–ø—ã—Ç—ã–≤–∞—é —Å—Ç—Ä–µ—Å—Å –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –Ω–µ —É—Å–ø–µ–≤–∞—é –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–¥–∞—á–∏ –≤ —Å—Ä–æ–∫",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 5,
        text: "–Ø —á–∞—Å—Ç–æ –æ–±–µ—â–∞—é —Å–µ–±–µ –Ω–∞—á–∞—Ç—å —á—Ç–æ-—Ç–æ –∑–∞–≤—Ç—Ä–∞, –Ω–æ –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é —ç—Ç–æ –æ–±–µ—â–∞–Ω–∏–µ",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 6,
        text: "–ú–Ω–µ —Ç—Ä—É–¥–Ω–æ –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞—Ç—å—Å—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Å—Ä–æ–∫–æ–≤",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 7,
        text: "–Ø —á–∞—Å—Ç–æ –∏—â—É –æ–ø—Ä–∞–≤–¥–∞–Ω–∏—è, —á—Ç–æ–±—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–¥–∞—á–∏ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 8,
        text: "–Ø —á—É–≤—Å—Ç–≤—É—é –≤–∏–Ω—É –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—é –¥–µ–ª–∞",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      }
    ],
    scoring: [
      { min: 8, max: 16, level: "low", label: "–ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å", description: "–í—ã —Ä–µ–¥–∫–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç–µ –¥–µ–ª–∞ –∏ —Ö–æ—Ä–æ—à–æ —É–ø—Ä–∞–≤–ª—è–µ—Ç–µ –≤—Ä–µ–º–µ–Ω–µ–º" },
      { min: 17, max: 24, level: "medium", label: "–°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å", description: "–ò–Ω–æ–≥–¥–∞ –≤—ã –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç–µ –¥–µ–ª–∞, –Ω–æ –≤ —Ü–µ–ª–æ–º —Å–ø—Ä–∞–≤–ª—è–µ—Ç–µ—Å—å —Å –∑–∞–¥–∞—á–∞–º–∏" },
      { min: 25, max: 32, level: "high", label: "–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å", description: "–í—ã —á–∞—Å—Ç–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç–µ –≤–∞–∂–Ω—ã–µ –¥–µ–ª–∞, —á—Ç–æ –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –≤–∞—à—É –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å" },
      { min: 33, max: 40, level: "critical", label: "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å", description: "–ü—Ä–æ–∫—Ä–∞—Å—Ç–∏–Ω–∞—Ü–∏—è —Å–µ—Ä—å—ë–∑–Ω–æ –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–∞—à—É –∂–∏–∑–Ω—å –∏ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è" }
    ]
  },
  depression: {
    id: "depression",
    name: "–¢–µ—Å—Ç –Ω–∞ –¥–µ–ø—Ä–µ—Å—Å–∏—é (PHQ-9)",
    description: "–û—Ü–µ–Ω–∏—Ç–µ —Å–∏–º–ø—Ç–æ–º—ã –¥–µ–ø—Ä–µ—Å—Å–∏–∏ –ø–æ —à–∫–∞–ª–µ PHQ-9",
    icon: "üíô",
    color: "blue",
    questions: [
      {
        id: 1,
        text: "–ú–∞–ª–æ –∏–Ω—Ç–µ—Ä–µ—Å–∞ –∏–ª–∏ —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏—è –æ—Ç –∑–∞–Ω—è—Ç–∏–π",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 2,
        text: "–ß—É–≤—Å—Ç–≤–æ –ø–æ–¥–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç–∏, –≥—Ä—É—Å—Ç–∏ –∏–ª–∏ –±–µ–∑–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 3,
        text: "–ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞—Å—ã–ø–∞–Ω–∏–µ–º –∏–ª–∏ —Å–Ω–æ–º, –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–∏–π —Å–æ–Ω",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 4,
        text: "–ß—É–≤—Å—Ç–≤–æ —É—Å—Ç–∞–ª–æ—Å—Ç–∏ –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ —ç–Ω–µ—Ä–≥–∏–∏",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 5,
        text: "–ü–ª–æ—Ö–æ–π –∞–ø–ø–µ—Ç–∏—Ç –∏–ª–∏ –ø–µ—Ä–µ–µ–¥–∞–Ω–∏–µ",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 6,
        text: "–ß—É–≤—Å—Ç–≤–æ –Ω–µ–¥–æ–≤–æ–ª—å—Å—Ç–≤–∞ —Å–æ–±–æ–π –∏–ª–∏ –æ—â—É—â–µ–Ω–∏–µ, —á—Ç–æ –≤—ã –ø–æ–¥–≤–µ–ª–∏ —Å–µ–±—è –∏–ª–∏ —Å–≤–æ—é —Å–µ–º—å—é",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 7,
        text: "–ü—Ä–æ–±–ª–µ–º—ã —Å –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–µ–π –Ω–∞ –æ–±—ã—á–Ω—ã—Ö –¥–µ–ª–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–µ–Ω–∏–∏ –≥–∞–∑–µ—Ç—ã –∏–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ —Ç–µ–ª–µ–≤–∏–∑–æ—Ä–∞",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 8,
        text: "–î–≤–∏–∂–µ–Ω–∏—è –∏–ª–∏ —Ä–µ—á—å –Ω–∞—Å—Ç–æ–ª—å–∫–æ –º–µ–¥–ª–µ–Ω–Ω—ã–µ, —á—Ç–æ —ç—Ç–æ –∑–∞–º–µ—Ç–∏–ª–∏ –¥—Ä—É–≥–∏–µ –ª—é–¥–∏. –ò–ª–∏ –Ω–∞–æ–±–æ—Ä–æ—Ç ‚Äî –≤—ã –Ω–∞—Å—Ç–æ–ª—å–∫–æ –±–µ—Å–ø–æ–∫–æ–π–Ω—ã –∏–ª–∏ —Å—É–µ—Ç–ª–∏–≤—ã, —á—Ç–æ –≤–∞–º —Ç—Ä—É–¥–Ω–æ —É—Å–∏–¥–µ—Ç—å –Ω–∞ –º–µ—Å—Ç–µ",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 9,
        text: "–ú—ã—Å–ª–∏ –æ —Ç–æ–º, —á—Ç–æ –≤–∞–º –ª—É—á—à–µ —É–º–µ—Ä–µ—Ç—å –∏–ª–∏ –æ –ø—Ä–∏—á–∏–Ω–µ–Ω–∏–∏ —Å–µ–±–µ –≤—Ä–µ–¥–∞",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      }
    ],
    scoring: [
      { min: 0, max: 4, level: "low", label: "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è", description: "–°–∏–º–ø—Ç–æ–º—ã –¥–µ–ø—Ä–µ—Å—Å–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã" },
      { min: 5, max: 9, level: "medium", label: "–õ—ë–≥–∫–∞—è", description: "–õ—ë–≥–∫–∏–µ —Å–∏–º–ø—Ç–æ–º—ã –¥–µ–ø—Ä–µ—Å—Å–∏–∏, –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ" },
      { min: 10, max: 14, level: "high", label: "–£–º–µ—Ä–µ–Ω–Ω–∞—è", description: "–£–º–µ—Ä–µ–Ω–Ω—ã–µ —Å–∏–º–ø—Ç–æ–º—ã –¥–µ–ø—Ä–µ—Å—Å–∏–∏, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞" },
      { min: 15, max: 27, level: "critical", label: "–¢—è–∂—ë–ª–∞—è", description: "–¢—è–∂—ë–ª—ã–µ —Å–∏–º–ø—Ç–æ–º—ã –¥–µ–ø—Ä–µ—Å—Å–∏–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞" }
    ]
  },
  anxiety: {
    id: "anxiety",
    name: "–¢–µ—Å—Ç –Ω–∞ —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å (GAD-7)",
    description: "–û—Ü–µ–Ω–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ —à–∫–∞–ª–µ GAD-7",
    icon: "üò∞",
    color: "red",
    questions: [
      {
        id: 1,
        text: "–ß—É–≤—Å—Ç–≤–æ –Ω–µ—Ä–≤–æ–∑–Ω–æ—Å—Ç–∏, –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–∞ –∏–ª–∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 2,
        text: "–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 3,
        text: "–ß—Ä–µ–∑–º–µ—Ä–Ω–æ–µ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ –æ —Ä–∞–∑–Ω—ã—Ö –≤–µ—â–∞—Ö",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 4,
        text: "–¢—Ä—É–¥–Ω–æ—Å—Ç–∏ —Å —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ–º",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 5,
        text: "–ù–∞—Å—Ç–æ–ª—å–∫–æ —Å–∏–ª—å–Ω–æ–µ –±–µ—Å–ø–æ–∫–æ–π—Å—Ç–≤–æ, —á—Ç–æ —Ç—Ä—É–¥–Ω–æ —É—Å–∏–¥–µ—Ç—å –Ω–∞ –º–µ—Å—Ç–µ",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 6,
        text: "–õ–µ–≥–∫–æ —Ä–∞–∑–¥—Ä–∞–∂–∞—Ç—å—Å—è –∏–ª–∏ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      },
      {
        id: 7,
        text: "–°—Ç—Ä–∞—Ö, —á—Ç–æ –º–æ–∂–µ—Ç —Å–ª—É—á–∏—Ç—å—Å—è —á—Ç–æ-—Ç–æ —É–∂–∞—Å–Ω–æ–µ",
        type: "scale",
        min: 0,
        max: 3,
        labels: { min: "–ù–∏ —Ä–∞–∑—É", max: "–ü–æ—á—Ç–∏ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å" }
      }
    ],
    scoring: [
      { min: 0, max: 4, level: "low", label: "–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è", description: "–°–∏–º–ø—Ç–æ–º—ã —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã" },
      { min: 5, max: 9, level: "medium", label: "–õ—ë–≥–∫–∞—è", description: "–õ—ë–≥–∫–∏–µ —Å–∏–º–ø—Ç–æ–º—ã —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏" },
      { min: 10, max: 14, level: "high", label: "–£–º–µ—Ä–µ–Ω–Ω–∞—è", description: "–£–º–µ—Ä–µ–Ω–Ω—ã–µ —Å–∏–º–ø—Ç–æ–º—ã —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è" },
      { min: 15, max: 21, level: "critical", label: "–¢—è–∂—ë–ª–∞—è", description: "–¢—è–∂—ë–ª—ã–µ —Å–∏–º–ø—Ç–æ–º—ã —Ç—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞" }
    ]
  },
  stress: {
    id: "stress",
    name: "–¢–µ—Å—Ç –Ω–∞ —Å—Ç—Ä–µ—Å—Å",
    description: "–û—Ü–µ–Ω–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ –≤ –≤–∞—à–µ–π –∂–∏–∑–Ω–∏",
    icon: "‚ö°",
    color: "yellow",
    questions: [
      {
        id: 1,
        text: "–Ø —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–Ω—ã–º(–æ–π) –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–º–∏ –∑–∞–¥–∞—á–∞–º–∏",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 2,
        text: "–£ –º–µ–Ω—è –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å–Ω–æ–º –∏–∑-–∑–∞ —Å—Ç—Ä–µ—Å—Å–∞",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 3,
        text: "–Ø —á–∞—Å—Ç–æ —á—É–≤—Å—Ç–≤—É—é —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –∑–ª–æ—Å—Ç—å",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 4,
        text: "–ú–Ω–µ —Ç—Ä—É–¥–Ω–æ —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è –¥–∞–∂–µ –≤ —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      },
      {
        id: 5,
        text: "–Ø –∏—Å–ø—ã—Ç—ã–≤–∞—é —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Å–∏–º–ø—Ç–æ–º—ã —Å—Ç—Ä–µ—Å—Å–∞ (–≥–æ–ª–æ–≤–Ω–∞—è –±–æ–ª—å, –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –≤ –º—ã—à—Ü–∞—Ö)",
        type: "scale",
        min: 1,
        max: 5,
        labels: { min: "–ù–∏–∫–æ–≥–¥–∞", max: "–í—Å–µ–≥–¥–∞" }
      }
    ],
    scoring: [
      { min: 5, max: 10, level: "low", label: "–ù–∏–∑–∫–∏–π", description: "–£—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞ –≤ –Ω–æ—Ä–º–µ" },
      { min: 11, max: 15, level: "medium", label: "–°—Ä–µ–¥–Ω–∏–π", description: "–£–º–µ—Ä–µ–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞" },
      { min: 16, max: 20, level: "high", label: "–í—ã—Å–æ–∫–∏–π", description: "–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å–Ω–∏–∑–∏—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É" },
      { min: 21, max: 25, level: "critical", label: "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π", description: "–û—á–µ–Ω—å –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –ø–æ–º–æ—â—å" }
    ]
  },
  "self-esteem": {
    id: "self-esteem",
    name: "–¢–µ—Å—Ç –Ω–∞ —Å–∞–º–æ–æ—Ü–µ–Ω–∫—É (–†–æ–∑–µ–Ω–±–µ—Ä–≥)",
    description: "–û—Ü–µ–Ω–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å –≤–∞—à–µ–π —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∏",
    icon: "üí™",
    color: "green",
    questions: [
      {
        id: 1,
        text: "–í —Ü–µ–ª–æ–º —è –¥–æ–≤–æ–ª–µ–Ω(–∞) —Å–æ–±–æ–π",
        type: "scale",
        min: 1,
        max: 4,
        labels: { min: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω", max: "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω" }
      },
      {
        id: 2,
        text: "–ò–Ω–æ–≥–¥–∞ —è –¥—É–º–∞—é, —á—Ç–æ —è —Å–æ–≤—Å–µ–º –Ω–µ —Ö–æ—Ä–æ—à(–∞)",
        type: "scale",
        min: 1,
        max: 4,
        labels: { min: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω", max: "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω" }
      },
      {
        id: 3,
        text: "–Ø —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ –æ–±–ª–∞–¥–∞—é —Ä—è–¥–æ–º —Ö–æ—Ä–æ—à–∏—Ö –∫–∞—á–µ—Å—Ç–≤",
        type: "scale",
        min: 1,
        max: 4,
        labels: { min: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω", max: "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω" }
      },
      {
        id: 4,
        text: "–Ø —Å–ø–æ—Å–æ–±–µ–Ω(–∞) –¥–µ–ª–∞—Ç—å –≤–µ—â–∏ —Ç–∞–∫ –∂–µ —Ö–æ—Ä–æ—à–æ, –∫–∞–∫ –∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –¥—Ä—É–≥–∏—Ö –ª—é–¥–µ–π",
        type: "scale",
        min: 1,
        max: 4,
        labels: { min: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω", max: "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω" }
      },
      {
        id: 5,
        text: "–ú–Ω–µ –∫–∞–∂–µ—Ç—Å—è, —á—Ç–æ –º–Ω–µ –Ω–µ—á–µ–º –æ—Å–æ–±–µ–Ω–Ω–æ –≥–æ—Ä–¥–∏—Ç—å—Å—è",
        type: "scale",
        min: 1,
        max: 4,
        labels: { min: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω", max: "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω" }
      },
      {
        id: 6,
        text: "–ò–Ω–æ–≥–¥–∞ —è —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º(–æ–π)",
        type: "scale",
        min: 1,
        max: 4,
        labels: { min: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω", max: "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω" }
      },
      {
        id: 7,
        text: "–Ø —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ —è –¥–æ—Å—Ç–æ–π–Ω—ã–π(–∞—è) —á–µ–ª–æ–≤–µ–∫, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, –Ω–µ –º–µ–Ω–µ–µ —á–µ–º –¥—Ä—É–≥–∏–µ",
        type: "scale",
        min: 1,
        max: 4,
        labels: { min: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω", max: "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω" }
      },
      {
        id: 8,
        text: "–Ø —Ö–æ—Ç–µ–ª(–∞) –±—ã –±–æ–ª—å—à–µ —É–≤–∞–∂–∞—Ç—å —Å–µ–±—è",
        type: "scale",
        min: 1,
        max: 4,
        labels: { min: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω", max: "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω" }
      },
      {
        id: 9,
        text: "–í —Ü–µ–ª–æ–º —è —Å–∫–ª–æ–Ω–µ–Ω(–∞) —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å, —á—Ç–æ —è –Ω–µ—É–¥–∞—á–Ω–∏–∫",
        type: "scale",
        min: 1,
        max: 4,
        labels: { min: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω", max: "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω" }
      },
      {
        id: 10,
        text: "–Ø –æ—Ç–Ω–æ—à—É—Å—å –∫ —Å–µ–±–µ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ",
        type: "scale",
        min: 1,
        max: 4,
        labels: { min: "–ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–µ —Å–æ–≥–ª–∞—Å–µ–Ω", max: "–ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≥–ª–∞—Å–µ–Ω" }
      }
    ],
    scoring: [
      { min: 30, max: 40, level: "high", label: "–í—ã—Å–æ–∫–∞—è", description: "–í—ã—Å–æ–∫–∞—è —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∞" },
      { min: 20, max: 29, level: "medium", label: "–°—Ä–µ–¥–Ω—è—è", description: "–°—Ä–µ–¥–Ω—è—è —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∞" },
      { min: 10, max: 19, level: "low", label: "–ù–∏–∑–∫–∞—è", description: "–ù–∏–∑–∫–∞—è —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–¥ —Å–æ–±–æ–π" },
      { min: 0, max: 9, level: "critical", label: "–û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è", description: "–û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∞, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞" }
    ]
  }
};

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ç–µ—Å—Ç–∞
export function calculateTestResult(test: Test, answers: Record<number, number | string>): TestResult {
  let totalScore = 0;
  
  // –î–ª—è —Ç–µ—Å—Ç–∞ –Ω–∞ —Å–∞–º–æ–æ—Ü–µ–Ω–∫—É –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ–±—Ä–∞—Ç–Ω—ã–µ (2, 5, 6, 8, 9)
  const reverseQuestions = test.id === "self-esteem" ? [2, 5, 6, 8, 9] : [];
  
  // –°—É–º–º–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç—ã
  test.questions.forEach((question) => {
    const answer = answers[question.id];
    if (typeof answer === "number") {
      if (reverseQuestions.includes(question.id)) {
        // –û–±—Ä–∞—Ç–Ω–∞—è —à–∫–∞–ª–∞: 1->4, 2->3, 3->2, 4->1
        const max = question.max || 4;
        const min = question.min || 1;
        totalScore += (max + min) - answer;
      } else {
        totalScore += answer;
      }
    }
  });

  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —É—Ä–æ–≤–µ–Ω—å –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º scoring
  const rule = test.scoring.find(
    (r) => totalScore >= r.min && totalScore <= r.max
  ) || test.scoring[test.scoring.length - 1];

  return {
    date: new Date().toISOString(),
    score: totalScore,
    level: rule.level,
    answers,
    interpretation: `${rule.label}: ${rule.description}`
  };
}

