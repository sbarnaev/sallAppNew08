{
    "model": "gpt-5-mini",
    "reasoning": { "effort": "medium" },
    "input": [
      {
        "role": "system",
        "content": "Ты — эксперт по системному анализу личности (САЛ), который помогает консультанту провести консультацию для родителей о ребенке. Твоя задача — создать понятный, ясный, бытовой текст, который консультант сможет легко использовать в работе с родителями.\n\nСАЛ — это метод, который определяет ключевые аспекты личности через пять кодов по дате рождения:\n1) Код Личности — ядро человека, его врожденная природа, способ мышления, характер.\n2) Код Коннектора — как человек взаимодействует с миром, как его воспринимают окружающие.\n3) Код Реализации — через что человек реализует себя, получает чувство пользы и результата.\n4) Код Генератора — что заряжает и истощает человека, что даёт смысл.\n5) Код Миссии — какую энергию человек призван нести в мир, испытания и искажения.\n\nВАЖНО: Пиши простым, понятным языком, как будто объясняешь другу. Избегай сложных терминов, используй бытовые примеры и ситуации из жизни.\n\nЖЁСТКОЕ ПРАВИЛО ПО ЦИФРАМ: Всегда указывай цифру кода ресурса из профиля ребенка, например: \"Личность (1)\", \"Коннектор (2)\".\n\nЧто нужно вернуть:\n- opener (вводная фраза) — интересный факт о ребенке, особенность или потенциал, чтобы родители узнали своего ребенка с первых слов.\n- childPotential (потенциал ребенка) — 3–5 абзацев о врожденных талантах, способностях и потенциале развития ребенка. Указывай ресурсы с цифрами.\n- developmentFeatures (особенности развития) — 5–7 пунктов о том, как развивается ребенок, какие этапы важны, на что обратить внимание.\n- upbringingRecommendations (рекомендации по воспитанию) — 7–10 конкретных рекомендаций для родителей, как лучше воспитывать этого ребенка с учетом его кодов САЛ.\n- educationalApproach (подход к обучению) — 5–7 рекомендаций по обучению и развитию, какие методы подходят, чего избегать.\n- communicationStyle (стиль общения) — 3–5 рекомендаций, как лучше общаться с ребенком, что говорить, как мотивировать.\n- challengesAndSolutions (вызовы и решения) — 5–7 пунктов о возможных сложностях в воспитании и конкретных способах их решения.\n- activitiesAndHobbies (активности и хобби) — 5–7 рекомендаций, какие занятия, кружки, хобби подходят ребенку.\n- parentChildInteraction (взаимодействие родитель-ребенок) — 3–5 абзацев о том, как лучше строить отношения с ребенком, учитывая его коды.\n- futureProspects (перспективы будущего) — 2–3 абзаца о том, в каком направлении может развиваться ребенок, какие сферы ему подходят.\n\nЕсли есть запрос от родителей (request), учитывай его при формировании всех разделов, особенно в рекомендациях по воспитанию и решении вызовов.\n\nСтиль: коротко, ясно, по делу, простым языком, с акцентом на практические советы для родителей."
      },
      {
        "role": "user",
        "content": "Входные данные профиля САЛ ребенка {{ $('Webhook').first().json.body.name }} {{ $('Webhook').first().json.body.birthday.split('-').reverse().join('.') }} в поле codes:"
      },
      {
        "role": "user",
        "content": "Входные данные профиля САЛ в поле codes: Личность: {{ $json.codes[0].description }}, Коннектор: {{ $json.codes[1].description }}, Реализация: {{ $json.codes[2].description }}, Генератор: {{ $json.codes[3].description }}, Миссия: {{ $json.codes[4].description }}{{ $('Webhook').first().json.body.request ? '\\n\\nЗапрос родителей: ' + $('Webhook').first().json.body.request : '' }}"
      }
    ],
    "text": {
      "format": {
        "type": "json_schema",
        "name": "sal_child_consult_structure",
        "strict": true,
        "schema": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "opener": {
              "type": "string",
              "description": "Вводная фраза для родителей — интересный факт о ребенке, особенность или потенциал, чтобы родители узнали своего ребенка с первых слов. Простым, понятным языком."
            },
            "childPotential": {
              "type": "array",
              "description": "Потенциал ребенка — 3–5 абзацев о врожденных талантах, способностях и потенциале развития. Указывай ресурсы с цифрами.",
              "minItems": 3,
              "maxItems": 5,
              "items": { "type": "string" }
            },
            "developmentFeatures": {
              "type": "array",
              "description": "Особенности развития — 5–7 пунктов о том, как развивается ребенок, какие этапы важны, на что обратить внимание.",
              "minItems": 5,
              "maxItems": 7,
              "items": { "type": "string" }
            },
            "upbringingRecommendations": {
              "type": "array",
              "description": "Рекомендации по воспитанию — 7–10 конкретных рекомендаций для родителей, как лучше воспитывать этого ребенка с учетом его кодов САЛ.",
              "minItems": 7,
              "maxItems": 10,
              "items": { "type": "string" }
            },
            "educationalApproach": {
              "type": "array",
              "description": "Подход к обучению — 5–7 рекомендаций по обучению и развитию, какие методы подходят, чего избегать.",
              "minItems": 5,
              "maxItems": 7,
              "items": { "type": "string" }
            },
            "communicationStyle": {
              "type": "array",
              "description": "Стиль общения — 3–5 рекомендаций, как лучше общаться с ребенком, что говорить, как мотивировать.",
              "minItems": 3,
              "maxItems": 5,
              "items": { "type": "string" }
            },
            "challengesAndSolutions": {
              "type": "array",
              "description": "Вызовы и решения — 5–7 пунктов о возможных сложностях в воспитании и конкретных способах их решения.",
              "minItems": 5,
              "maxItems": 7,
              "items": { "type": "string" }
            },
            "activitiesAndHobbies": {
              "type": "array",
              "description": "Активности и хобби — 5–7 рекомендаций, какие занятия, кружки, хобби подходят ребенку.",
              "minItems": 5,
              "maxItems": 7,
              "items": { "type": "string" }
            },
            "parentChildInteraction": {
              "type": "array",
              "description": "Взаимодействие родитель-ребенок — 3–5 абзацев о том, как лучше строить отношения с ребенком, учитывая его коды.",
              "minItems": 3,
              "maxItems": 5,
              "items": { "type": "string" }
            },
            "futureProspects": {
              "type": "array",
              "description": "Перспективы будущего — 2–3 абзаца о том, в каком направлении может развиваться ребенок, какие сферы ему подходят.",
              "minItems": 2,
              "maxItems": 3,
              "items": { "type": "string" }
            }
          },
          "required": [
            "opener",
            "childPotential",
            "developmentFeatures",
            "upbringingRecommendations",
            "educationalApproach",
            "communicationStyle",
            "challengesAndSolutions",
            "activitiesAndHobbies",
            "parentChildInteraction",
            "futureProspects"
          ]
        }
      }
    }
  }

